<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Light - K8s Monitor</title>

    <!-- Tailwind CSS через CDN (для разработки) -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- React и React DOM через CDN (для разработки) -->
    <script crossorigin src="https://unpkg.com/react@17/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>

    <!-- Babel для поддержки JSX (для разработки) -->
    <script src="https://unpkg.com/babel-standalone@6.26.0/babel.min.js"></script>

    <!-- Кастомные стили -->
    <link rel="stylesheet" href="/assets/css/custom.css">
    <script>
        // Настройка Tailwind
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        'healthy': '#28a745',
                        'progressing': '#ffc107',
                        'scaled-zero': '#6c757d',
                        'error': '#dc3545',
                        'pod-running': '#28a745',
                        'pod-succeeded': '#17a2b8',
                        'pod-pending': '#ffc107',
                        'pod-failed': '#dc3545',
                        'pod-terminating': '#6c757d',
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 transition-colors duration-300">
    <div id="root"></div>

    <!-- Отладочный скрипт -->
    <script type="text/babel" src="/js/debug.jsx"></script>
    <!-- Загрузка компонентов -->
    <script type="text/babel" src="/js/utils/api.js"></script>
    <script type="text/babel" src="/js/utils/theme.js"></script>
    <script type="text/babel" src="/js/hooks/useK8sApi.js"></script>
    <script type="text/babel" src="/js/hooks/useInterval.js"></script>
    <script type="text/babel" src="/js/components/StatusBadge.jsx"></script>
    <script type="text/babel" src="/js/components/Navbar.jsx"></script>
    <script type="text/babel" src="/js/components/Sidebar.jsx"></script>
    <script type="text/babel" src="/js/components/DeploymentCard.jsx"></script>
    <script type="text/babel" src="/js/components/DeploymentGrid.jsx"></script>
    <script type="text/babel" src="/js/components/Filters.jsx"></script>
    <script type="text/babel" src="/js/components/Loading.jsx"></script>
    <script type="text/babel" src="/js/components/Dashboard.jsx"></script>
    <script type="text/babel" src="/js/app.jsx"></script>
<script>
    console.log("Прямая проверка DOM ready");
    document.addEventListener('DOMContentLoaded', function() {
        console.log("DOMContentLoaded сработал");

        // Попробуем напрямую вызвать рендеринг без загрузки всех скриптов
        var rootElement = document.getElementById('root');
        rootElement.innerHTML = '<div class="p-4 bg-blue-100 text-blue-800 rounded">Если вы видите это сообщение, DOM готов, но React не рендерится</div>';
        console.log("Проверка HTML вставлена");

        setTimeout(function() {
            console.log("Таймаут 500ms сработал, пробуем рендеринг React");
            try {
                // Проверяем доступность React и ReactDOM
                if (typeof React !== 'undefined' && typeof ReactDOM !== 'undefined') {
                    ReactDOM.render(
                        React.createElement('div', { className: 'p-4 bg-green-100 text-green-800 rounded' },
                            'React рендеринг работает!'
                        ),
                        rootElement
                    );
                } else {
                    rootElement.innerHTML += '<div class="mt-2 p-4 bg-red-100 text-red-800 rounded">React или ReactDOM не определены!</div>';
                }
            } catch (e) {
                console.error("Ошибка при рендеринге React:", e);
                rootElement.innerHTML += '<div class="mt-2 p-4 bg-red-100 text-red-800 rounded">Ошибка React: ' + e.message + '</div>';
            }
        }, 500);
    });
</script>
</body>
</html>
